<div class="event-details-root">
  <!-- Header com padrão da aplicação -->
  <header class="topbar">
    <div class="brand-logo">
      <svg class="logo-icon" viewBox="0 0 40 40" fill="none">
        <circle
          cx="20"
          cy="20"
          r="18"
          fill="url(#bgGradient)"
          stroke="rgba(255,255,255,0.2)"
          stroke-width="1"
        />
        <path
          d="M12 12h12M12 16h8M12 20h12M12 24h10M12 28h12"
          stroke="rgba(255,255,255,0.9)"
          stroke-width="2.5"
          stroke-linecap="round"
        />
        <circle cx="30" cy="12" r="2" fill="rgba(255,255,255,0.8)">
          <animate attributeName="opacity" values="0.8;1;0.8" dur="2s" repeatCount="indefinite" />
        </circle>
        <circle cx="32" cy="18" r="1.5" fill="rgba(255,255,255,0.6)">
          <animate
            attributeName="opacity"
            values="0.6;0.9;0.6"
            dur="2.5s"
            repeatCount="indefinite"
          />
        </circle>
        <circle cx="30" cy="24" r="1.8" fill="rgba(255,255,255,0.7)">
          <animate attributeName="opacity" values="0.7;1;0.7" dur="3s" repeatCount="indefinite" />
        </circle>
        <defs>
          <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
            <stop offset="0%" style="stop-color: #667eea; stop-opacity: 0.8" />
            <stop offset="50%" style="stop-color: #764ba2; stop-opacity: 0.9" />
            <stop offset="100%" style="stop-color: #f093fb; stop-opacity: 0.7" />
          </linearGradient>
        </defs>
      </svg>
      <span class="brand-text text-brand">EventHub</span>
    </div>

    <nav class="nav">
      <a href="/events" class="text-nav">Events</a>
      <a href="/create-event" class="text-nav">Create Event</a>
      <a href="/login" class="text-nav">Login</a>
    </nav>

    <div class="header-actions">
      <button class="action-btn" (click)="shareEvent()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path
            d="M18 8a4 4 0 0 0-4-4c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4z"
            stroke="currentColor"
            stroke-width="2"
          />
          <path d="M14 12l-8 4" stroke="currentColor" stroke-width="2" />
          <path d="M14 8l-8-4" stroke="currentColor" stroke-width="2" />
          <circle cx="6" cy="4" r="3" stroke="currentColor" stroke-width="2" />
          <circle cx="6" cy="20" r="3" stroke="currentColor" stroke-width="2" />
        </svg>
        Share
      </button>
      <button class="action-btn" (click)="toggleFavorite()">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
          <path
            d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
            stroke="currentColor"
            stroke-width="2"
          />
        </svg>
        Save
      </button>
    </div>
  </header>

  <main class="content-wrap">
    <!-- Loading state -->
    <div *ngIf="!event" class="loading-container">
      <p>Carregando evento...</p>
    </div>

    <!-- Event content - only show when event is loaded -->
    <div *ngIf="event">
      <!-- Hero Section do Evento -->
      <section class="event-hero">
        <div class="hero-container">
          <div class="hero-content">
            <div class="event-meta">
              <span class="event-tag text-badge">{{ event.eventType }}</span>
              <span class="event-category text-micro">{{ event.eventType }}</span>
            </div>

            <h1 class="event-title">{{ event.name }}</h1>

            <div class="event-quick-info">
              <div class="info-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" />
                  <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>{{ event.eventDate }}</span>
              </div>

              <div class="info-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>{{ eventlocation?.placeName }}</span>
              </div>

              <div class="info-item">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                  <path
                    d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"
                    stroke="currentColor"
                    stroke-width="2"
                  />
                  <circle cx="8.5" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                  <path d="M20 8v6M23 11l-3 3-3-3" stroke="currentColor" stroke-width="2" />
                </svg>
                <span>{{ event.subscribersCount }}/{{ event.maxSubs }} inscritos</span>
              </div>
            </div>
          </div>

          <div class="hero-image">
            <img [src]="event.imageUrl" [alt]="event.name" />
            <div class="image-overlay"></div>
          </div>
        </div>
      </section>

      <!-- Seção Principal com Informações -->
      <section class="event-info">
        <div class="info-container">
          <div class="info-grid">
            <!-- Coluna Principal - Descrição -->
            <div class="main-info">
              <div class="info-card">
                <h2>Sobre o Evento</h2>
                <p class="event-description">{{ event.description }}</p>

                <!-- Informações do local -->
                <div class="location-details" *ngIf="event.eventLocation">
                  <h3>Localização</h3>
                  <div class="location-info">
                    <p><strong>Endereço:</strong> {{ event.eventLocation.fullAddress }}</p>
                    <p><strong>CEP:</strong> {{ event.eventLocation.zipCode }}</p>
                    <p><strong>Categoria:</strong> {{ event.eventLocation.category }}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Coluna Lateral - Ações -->
            <div class="sidebar-info">
              <div class="registration-card">
                <div class="price-section">
                  <span class="price-label">Ingresso</span>
                  <span class="price-value">Gratuito</span>
                </div>

                <div class="availability">
                  <div class="availability-bar">
                    <div
                      class="availability-fill"
                      [style.width.%]="(event.subscribersCount / event.maxSubs) * 100"
                    ></div>
                  </div>
                  <span class="availability-text">
                    {{ event.maxSubs - event.subscribersCount }} vagas restantes
                  </span>
                </div>

                <a [href]="'/event/' + event.id + '/register'" class="register-btn primary">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <circle cx="12" cy="7" r="4" stroke="currentColor" stroke-width="2" />
                  </svg>
                  Inscrever-se no Evento
                </a>

                <button class="register-btn secondary">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                    <path
                      d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                  Adicionar à Lista de Desejos
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>
</div>
